<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Page</title>
    <link rel="dns-prefetch" href="//unpkg.com" />
	<link rel="dns-prefetch" href="//cdn.jsdelivr.net" />
	<link rel="stylesheet" href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css">
  <link href="https://unpkg.com/tailwindcss@1.3.4/dist/tailwind.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.js" defer></script>
</head>
<body>

  
  <body class="h-screen overflow-hidden flex items-center justify-center" style="background: #edf2f7;">
    
    <div class="w-full max-w-6xl min-w-0 mx-auto px-6">
			<div class="flex mt-12 bg-white rounded-md shadow">
				<div class="w-64 bg-black rounded-l-md border-r border-dashed border-white">
					<div class="flex justify-center items-center h-32 text-black-700 bg-black text-center font-semibold text-3xl italic">
					<img src="greenCat.png" width=115px class="pt-8">
					</div>
					<div class="mt-8 border-t border-white">
						<a href="#" class="block bg-black py-3 px-6 text-white font-semibold border-b border-white">
							Mission of H&R
						</a>
						<a href="#" class="block py-3 px-6 bg-gray-800 text-white font-semibold border-b border-white">
							Intake
						</a>
						<a href="#" class="block bg-black py-3 px-6 text-white font-semibold border-b border-white">
							Progress
						</a>
						<a href="#" class="block bg-black py-3 px-6 text-white font-semibold border-b border-white">
							Other resources
						</a>
						<a href="#" class="block bg-black py-3 px-6 text-white font-semibold border-b border-white">
							Contact
						</a>
					</div>
          <img src="hooked.png" class="p-3 pt-5">
				</div>
				<div class="flex-grow">
					<div class="flex flex-col mx-40 mt-20">
						<div class="flex items-center mb-4">
							<label for="habit" class="w-24 font-semibold text-black-700">Habit</label>
							<input type="text" name="habit" class="border-double border-4 border-black rounded py-1 px-3" placeholder="enter name of habit" />
						</div>
						<div class="flex items-center mb-4">
							<label for="cost" class="w-24 font-semibold text-black-700">Weekly spending <br>on habit</label>
							<input type="text" name="cost" class="border-double border-4 border-black rounded py-1 px-3" placeholder="enter amount" />
						</div>
						<div class="flex items-center mb-4">
							<label for="reward" class="w-24 font-semibold text-black-700">Personal Reward</label>
							<input type="text" name="reward" class="border-double border-4 border-black rounded py-1 px-3" placeholder="Password" />
						</div>
						<div class="flex items-center mb-4">
							<textarea name="extraNotes" placeholder="(optional) add an affirmation you want to give to future you" class="flex-grow border double-border border-black rounded py-1 px-2" id="description" rows="8"></textarea>
						</div>
						<div class="flex items-center mb-4">
							<button class="submit py-1 px-4 bg-black text-white font-semibold hover:bg-black-900 hover:shadow border border-black-200 rounded mr-2">Submit</button>
						</div>
					</div>
				</div>
			</div>
		</div>
</body>

<!-- to do for intake:
- after a user logs/signs in, they have to fill out a short survey
- survey asks: 
   1. what is the bad habit   
      - option to click and add another bad habit
   2. how much does this bad habit cost you on a weekly basis
   3. what rewards would you like to add 
      - option to click and keep adding rewards
  - survey info gets stored in the database

to do for reinforcer:
- if there is a streak, then the dom should display how 
much money they have theoretically saved (take survey question 3, 
divide that number by 7 and then keep multiplying that amount by 
the amount of days in the streak)
- using google maps api, the user should be able to plug in their 
location and once they begin their excersize the computer should be
tracking the route and once the user presses the "done exerceising"
button then the computer will stop tracking the route
    - an alternative is to ask the user how far they ran/walked
    - or connect their info to another gps tracker app
- if there is a streak and the user has opted to track an excersize
during that streak, then the dom should display how far they have 
excersized (in distance) by day  -->

<!-- to do for calendar: 
- when a user hover over the day, a check image should show up
- when a user clicks the day, the box should be replaced with
an image that has a solid background and a line strike
- the computer should be counting the days when they are 
clicked consecutively and storing the streak count
- display the streak on the dom
- if a streak is created (meaning more than one day has been
clicked on), then a pop up box should emerge and ask the user
if they would like to reward themselves.
- the rewards should be displayed in a list order with radio
buttons and the computer should store which reward was given
- question: how will this work if a user has more than one
bad habit? do we scrap that option or reimagine the calendar? 
    - idea: when a user clicks on a day, they get redirected to a 
    list of their habits, and they click which one they didn't 
    engage with
- ***thing to do at the end: display current month only-->

<div>

<style>
  .antialiased{
    background-color: rgb(0, 0, 0);
    width:110%;
    font-size:1rem;
   
  }

  *, ::after, ::before {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
    border-color: #969696;
  }

  div .antialiased .container{
    height:800px;
    width:100%;
    transform:scale(0.8);
    padding-top:0;
    margin-left:-3%;
  }

</style>
<div class="antialiased sans-serif bg-gray-100 h-screen">
	<div x-data="app()" x-init="[initDate(), getNoOfDays()]" x-cloak>
		<div class="container mx-auto px-4 py-2 md:py-24">

			<div class="bg-white rounded-lg shadow overflow-hidden">

				<div class="flex items-center justify-between py-2 px-6">
					<div>
						<span x-text="MONTH_NAMES[month]" class="text-lg font-bold text-gray-800"></span>
						<span x-text="year" class="ml-1 text-lg text-gray-600 font-normal"></span>
					</div>
					<div class="border rounded-lg px-1" style="padding-top: 2px;">
						<button 
							type="button"
							class="leading-none rounded-lg transition ease-in-out duration-100 inline-flex cursor-pointer hover:bg-gray-200 p-1 items-center" 
							:class="{'cursor-not-allowed opacity-25': month == 0 }"
							:disabled="month == 0 ? true : false"
							@click="month--; getNoOfDays()">
							<svg class="h-6 w-6 text-gray-500 inline-flex leading-none"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
							</svg>  
						</button>
						<div class="border-r inline-flex h-6"></div>		
						<button 
							type="button"
							class="leading-none rounded-lg transition ease-in-out duration-100 inline-flex items-center cursor-pointer hover:bg-gray-200 p-1" 
							:class="{'cursor-not-allowed opacity-25': month == 11 }"
							:disabled="month == 11 ? true : false"
							@click="month++; getNoOfDays()">
							<svg class="h-6 w-6 text-gray-500 inline-flex leading-none"  fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
							</svg>									  
						</button>
					</div>
				</div>	

				<div class="-mx-1 -mb-1">
					<div class="flex flex-wrap" style="margin-bottom: -40px;">
						<template x-for="(day, index) in DAYS" :key="index">	
							<div style="width: 14.26%" class="px-2 py-2">
								<div
									x-text="day" 
									class="text-gray-600 text-sm uppercase tracking-wide font-bold text-center"></div>
							</div>
						</template>
					</div>

					<div class="flex flex-wrap border-t border-l">
						<template x-for="blankday in blankdays">
							<div 
								style="width: 14.28%; height: 120px"
								class="text-center border-r border-b px-4 pt-2"	
							></div>
						</template>	
						<template x-for="(date, dateIndex) in no_of_days" :key="dateIndex">	
							<div style="width: 14.28%; height: 120px" class="px-4 pt-2 border-r border-b relative">
								<div
									@click="showEventModal(date)"
									x-text="date"
									class="inline-flex w-6 h-6 items-center justify-center cursor-pointer text-center leading-none rounded-full transition ease-in-out duration-100"
									:class="{'bg-blue-500 text-white': isToday(date) == true, 'text-gray-700 hover:bg-blue-200': isToday(date) == false }"	
								></div>
								<div style="height: 80px;" class="overflow-y-auto mt-1">

									<template x-for="event in events.filter(e => new Date(e.event_date).toDateString() ===  new Date(year, month, date).toDateString() )">	
										<div
											class="px-2 py-1 rounded-lg mt-1 overflow-hidden border"
											:class="{
												'border-blue-200 text-blue-800 bg-blue-100': event.event_theme === 'blue',
												'border-red-200 text-red-800 bg-red-100': event.event_theme === 'red',
												'border-yellow-200 text-yellow-800 bg-yellow-100': event.event_theme === 'yellow',
												'border-green-200 text-green-800 bg-green-100': event.event_theme === 'green',
												'border-purple-200 text-purple-800 bg-purple-100': event.event_theme === 'purple'
											}"
										>
											<p x-text="event.event_title" class="text-sm truncate leading-tight"></p>
										</div>
									</template>
								</div>
							</div>
						</template>
					</div>
				</div>
			</div>
		</div>

		<div style=" background-color: rgba(0, 0, 0, 0.8)" class="fixed z-40 top-0 right-0 left-0 bottom-0 h-full w-full" x-show.transition.opacity="openEventModal">
			<div class="p-4 max-w-xl mx-auto relative absolute left-0 right-0 overflow-hidden mt-24">
				<div class="shadow absolute right-0 top-0 w-10 h-10 rounded-full bg-white text-gray-500 hover:text-gray-800 inline-flex items-center justify-center cursor-pointer"
					x-on:click="openEventModal = !openEventModal">
					<svg class="fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
						<path
							d="M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z" />
					</svg>
				</div>

				<div class="shadow w-full rounded-lg bg-white overflow-hidden w-full block p-8">
					
					<h2 class="font-bold text-2xl mb-6 text-gray-800 border-b pb-2">Habit Tracker</h2>
				 
					<div class="mb-4">
						<label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">Habit name</label>
						<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" type="text" x-model="event_title">
					</div>

					<div class="mb-4">
						<label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">Streak date</label>
						<input class="bg-gray-200 appearance-none border-2 border-gray-200 rounded-lg w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-blue-500" type="text" x-model="event_date" readonly>
					</div>

					<div class="inline-block w-64 mb-4">
						<label class="text-gray-800 block mb-1 font-bold text-sm tracking-wide">Select a color theme</label>
						<div class="relative">
							<select @change="event_theme = $event.target.value;" x-model="event_theme" class="block appearance-none w-full bg-gray-200 border-2 border-gray-200 hover:border-gray-500 px-4 py-2 pr-8 rounded-lg leading-tight focus:outline-none focus:bg-white focus:border-blue-500 text-gray-700">
									<template x-for="(theme, index) in themes">
										<option :value="theme.value" x-text="theme.label"></option>
									</template>
								
							</select>
							<div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
							<svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
							</div>
						</div>
					</div>
 
					<div class="mt-8 text-right">
						<button type="button" class="bg-white hover:bg-gray-100 text-gray-700 font-semibold py-2 px-4 border border-gray-300 rounded-lg shadow-sm mr-2" @click="openEventModal = !openEventModal">
							Cancel
						</button>	
						<button type="button" class="bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-4 border border-gray-700 rounded-lg shadow-sm" @click="addEvent()">
							Add streak
						</button>	
					</div>
				</div>
			</div>
		</div>
	</div>
  </div>

<script src="/main.js"></script>

</body>
</html>
 